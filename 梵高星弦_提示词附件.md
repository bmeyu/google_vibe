# 梵高星弦 - Vibe Coding 提示词

## 项目信息

**在线体验**: https://google-vibe.vercel.app/

**源码地址**: https://github.com/bmeyu/google_vibe

---

## 初版提示词 (English)

```
Role: Expert Creative Web Developer utilizing MediaPipe, HTML5 Canvas, and Web Audio API.

Objective: Create an interactive web application combining webcam gesture recognition with Van Gogh's "Starry Night" artwork. The style should be minimalist.

Core Features Summary:

1. Background: Full-screen Van Gogh's "Starry Night".

2. Gesture Interaction (The String): Detect both hands via webcam. Dynamically draw a single, glowing minimalist "string" (a line) connecting the tip of the left index finger to the tip of the right index finger. Moving hands apart "stretches" the string.

3. Audio Plucking: When another finger (e.g., middle finger) crosses this dynamic string line, play a synthesized musical note using the Web Audio API.

4. Visual Ripple Feedback: When a hand moves over or plucks the string, generate a swirling, vortex-like ripple effect on the background image at that location, mimicking the swirling stars in the painting.

Technical Implementation Steps for the Coder:

1. Setup & HTML Structure:
   - Create a full-screen webpage with a black background.
   - Include a hidden <video> element for the webcam feed (do not show the raw video).
   - Create a main full-screen <canvas> element (id="output_canvas").
   - Load an image of Van Gogh's "Starry Night" to be used as the base texture for the canvas.

2. Integrate MediaPipe Hands:
   - Import the MediaPipe Hands library via CDN.
   - Initialize Hands, set up the camera to feed data to MediaPipe.
   - Ensure video is mirrored horizontally so movements feel natural.

3. The Minimalist String (Canvas Drawing):
   In the main animation loop (requestAnimationFrame):
   - First, draw the "Starry Night" image onto the entire canvas background.
   - Check if landmarks for BOTH left and right hands are detected.
   - Get the coordinates of the Left Index Fingertip (landmark 8) and Right Index Fingertip (landmark 8).
   - Draw a straight, glowing line between these two points. Style it as a bright yellowish-white line with a slight glow shadow, looking like energized light.

4. Swirling Ripple Effect (Canvas Manipulation):
   - Create a system to track "ripple" events.
   - When a hand landmark moves significantly near the string area, spawn a "ripple object" at that coordinate.
   - In the draw loop, for each active ripple: Apply a swirling distortion effect to the canvas over the background image at that spot. It should look like a small vortex twisting the painted stars, then fading away quickly.

5. Audio Synthesis (Web Audio API):
   - Initialize an AudioContext.
   - Implement a simple collision detection to check if a finger tip crossed the string line in the current frame.
   - If crossed: Trigger a short, pleasant synthesized sound (e.g., a triangle wave with a quick envelope decay) to simulate plucking a cosmic string. Vary the pitch slightly based on the horizontal position of the pluck.

IMPORTANT Constraints:
- Ensure the code is a single, self-contained HTML file (including CSS and JS blocks) so it can be run immediately.
- Focus on smooth performance. The ripple effect must not lag the hand tracking.
```

---

## 提示词要点解析

### 核心技术栈
| 技术 | 用途 |
|------|------|
| MediaPipe Hands | 检测双手21个关键点 |
| HTML5 Canvas | 绘制琴弦和视觉效果 |
| Web Audio API | 合成音乐音符 |

### 关键功能点

**1. 手势检测**
- 使用 MediaPipe Hands 库
- 检测双手的食指指尖（landmark 8）
- 水平镜像让操作更自然

**2. 虚拟琴弦**
- 连接左右手食指的发光线条
- 双手分开 = 拉伸琴弦
- 样式：亮黄白色 + 发光阴影

**3. 音符触发**
- 其他手指（如中指）穿过琴弦时触发
- 使用三角波 + 快速衰减包络
- 音高随水平位置变化（左低右高）

**4. 视觉反馈**
- 拨弦时在画面上产生漩涡效果
- 模仿梵高画作中旋转的星空
- 效果快速淡出，不影响性能

---

## 迭代优化方向

初版完成后，我通过以下方向继续优化：

1. **琴弦数量**: 从1根扩展到3根，支持和声
2. **召唤手势**: 添加食指靠近1秒召唤/消失的交互
3. **锁定功能**: 双手张开锁定琴弦位置
4. **音阶系统**: 改用五声音阶（E小调），怎么弹都好听
5. **视觉增强**: 添加能量光束、音符粒子
6. **画作元素**: 拨弦时光束射向画中的星星和灯光

---

## 我的工作流

```
想法 → Gemini生成提示词 → AI Studio写代码 → 看效果
                    ↓
              Gemini优化提示词 ← 发现问题
                    ↓
              Nano Banana更新视觉
                    ↓
              循环3-5轮直到满意
                    ↓
              GitHub保存 → Vercel发布
```

---

## 相关链接

- **在线体验**: https://google-vibe.vercel.app/
- **GitHub源码**: https://github.com/bmeyu/google_vibe
- **MediaPipe文档**: https://developers.google.com/mediapipe
- **Three.js文档**: https://threejs.org/docs/

---

*有想法，就去做吧 ✨*
